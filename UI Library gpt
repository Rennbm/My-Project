--// QStyleUI Library
-- Simpel, hanya TextButton untuk demo
-- Bisa dikembangkan lagi (slider, input, dropdown dll)

local QStyleUI = {}

--// CreateWindow
function QStyleUI:CreateWindow(config)
    local window = {}
    window.Title = config.Title or "QStyleUI"
    window.SubTitle = config.SubTitle or ""
    window.Tabs = {}

    -- Buat GUI dasar
    local Players = game:GetService("Players")
    local player = Players.LocalPlayer
    local gui = Instance.new("ScreenGui")
    gui.Name = "QStyleUI"
    gui.ResetOnSpawn = false
    gui.Parent = player:WaitForChild("PlayerGui")

    -- Frame utama
    local mainFrame = Instance.new("Frame")
    mainFrame.Size = UDim2.new(0, 600, 0, 350)
    mainFrame.Position = UDim2.new(0.5, -300, 0.5, -175)
    mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    mainFrame.Parent = gui

    -- Judul
    local titleLabel = Instance.new("TextLabel")
    titleLabel.Size = UDim2.new(1, 0, 0, 40)
    titleLabel.BackgroundTransparency = 1
    titleLabel.Text = window.Title .. " | " .. window.SubTitle
    titleLabel.TextColor3 = Color3.fromRGB(220, 230, 240)
    titleLabel.Font = Enum.Font.GothamBold
    titleLabel.TextSize = 18
    titleLabel.Parent = mainFrame

    -- Container tab
    local tabContainer = Instance.new("Frame")
    tabContainer.Size = UDim2.new(1, -20, 1, -60)
    tabContainer.Position = UDim2.new(0, 10, 0, 50)
    tabContainer.BackgroundTransparency = 1
    tabContainer.Parent = mainFrame

    -- Layout untuk element
    local layout = Instance.new("UIListLayout", tabContainer)
    layout.Padding = UDim.new(0, 8)
    layout.SortOrder = Enum.SortOrder.LayoutOrder

    -- Fungsi CreateTab
    function window:CreateTab(name)
        local tab = {}
        tab.Name = name
        tab.Elements = {}
        tab.Container = tabContainer

        -- API: CreateButton
        function tab:CreateButton(cfg)
            local btn = Instance.new("TextButton")
            btn.Size = UDim2.new(0, 200, 0, 32)
            btn.Text = cfg.Name or "Button"
            btn.TextColor3 = Color3.fromRGB(230, 230, 240)
            btn.Font = Enum.Font.Gotham
            btn.TextSize = 14
            btn.BackgroundColor3 = Color3.fromRGB(40, 40, 55)
            btn.Parent = self.Container

            btn.MouseButton1Click:Connect(function()
                if cfg.Callback then
                    pcall(cfg.Callback)
                end
            end)

            table.insert(self.Elements, btn)
            return btn
        end

        -- API: CreateToggle
        function tab:CreateToggle(cfg)
            local state = cfg.CurrentValue or false

            local btn = Instance.new("TextButton")
            btn.Size = UDim2.new(0, 200, 0, 32)
            btn.Text = (cfg.Name or "Toggle") .. ": " .. tostring(state)
            btn.TextColor3 = Color3.fromRGB(230, 230, 240)
            btn.Font = Enum.Font.Gotham
            btn.TextSize = 14
            btn.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
            btn.Parent = self.Container

            btn.MouseButton1Click:Connect(function()
                state = not state
                btn.Text = (cfg.Name or "Toggle") .. ": " .. tostring(state)
                if cfg.Callback then
                    pcall(cfg.Callback, state)
                end
            end)

            table.insert(self.Elements, btn)
            return btn
        end

        table.insert(window.Tabs, tab)
        return tab
    end

    return window
end

return QStyleUI
